(this["webpackJsonplistado-react"]=this["webpackJsonplistado-react"]||[]).push([[0],{10:function(e,t,a){e.exports=a(11)},11:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),c=a(8),i=a(5),o=a(9),l=a(6),u=a.n(l),s=a(1),m=a(0),d=a.n(m),p=a(7),f=a.n(p),v=(a(17),"f13b35a7449050301ba5dbef9580d820"),h=["https://api.themoviedb.org/3/movie/top_rated?api_key="+v+"&language=en-US&page=1","https://api.themoviedb.org/3/movie/popular?api_key="+v+"&language=en-US&page=1"],g=function(e){var t=e.movie,a=e.move,n=e.onmouseover,r=e.onmouseout,c=e.index,i=e.punta,o=e.img,l=e.onClick;return d.a.createElement("div",{className:"card "+a+" "+i,onClick:l,onMouseOver:n,onMouseOut:r,id:c,name:t},d.a.createElement("img",{className:"imgCard",src:o,alt:"portada"}),d.a.createElement("div",{className:"infoCard",hidden:!0},t))},b=function(e){var t=e.tipo,a=e.index,n=e.onClick,r=Object(m.useState)([]),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(m.useState)([]),p=Object(s.a)(l,2),f=p[0],v=p[1],b=Object(m.useState)([]),E=Object(s.a)(b,2),y=E[0],k=E[1];Object(m.useEffect)((function(){var e;e=h[a],u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(e).then((function(e){return e.json()})).then((function(e){var t=i.concat(e.results.map((function(e){return e.id})));o(t),v(f.concat(e.results.map((function(t,a){return"https://image.tmdb.org/t/p/w300/"+e.results[a].backdrop_path})))),k(Array(t.length).fill("none"))})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}))}),[a]);var N=function(e){for(var t=e.currentTarget.id,a=[],n=0;n<20;n++)n<t?a.push("left"):n>t?a.push("right"):n===t?a.push("center"):a.push("none");k(a)},j=function(e){k(y.map((function(){return"none"})))},C=i.map((function(e,t){var a="";return 0===t?a="start":t===i.length-1&&(a="end"),d.a.createElement(g,{movie:e,img:f[t],key:t,index:t,move:y[t],onmouseover:N,onmouseout:j,punta:a,onClick:n})}));return d.a.createElement("section",{className:"groupCard"},d.a.createElement("h2",null,t),d.a.createElement("div",{className:"listCard"},C))},E=function(e){var t=e.onClick;return["Top Rated","Popular"].map((function(e,a){return d.a.createElement(b,{tipo:e,key:a,index:a,onClick:t})}))},y=function(e){var t=e.pelicula,a=e.trailerKey,n=[];return void 0!==t.genres&&(n=t.genres.map((function(e,t){return d.a.createElement("div",{key:t,className:"genero"},e.name)}))),d.a.createElement("section",{className:"portada"},d.a.createElement("div",{className:"infoPeli"},d.a.createElement("h1",{className:"nombrePortada"},t.original_title),d.a.createElement("div",{className:"duracion"},t.runtime+" minutes"),d.a.createElement("div",{className:"fecha"},t.release_date),d.a.createElement("div",{className:"overview"},t.overview),d.a.createElement("div",{className:"generos"},n)),d.a.createElement("div",{className:"trailerPeli"},d.a.createElement("iframe",{src:"https://www.youtube.com/embed/"+a+"?autoplay=1&controls=0&disablekb=1&fs=0&loop=0&modestbranding=1&rel=0&showinfo=0&mute=1&autohide=1",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",id:"iframe_youtube",title:"trailer"}),d.a.createElement("div",{className:"fader"})))},k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={idPelicula:"",pelicula:{},trailerKey:""},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"onClick",value:function(e){var t=e.currentTarget.getAttribute("name");this.setState({idPelicula:t}),this.getData(t)}},{key:"getData",value:function(e){var t=this;fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key="+v+"&language=en-US").then((function(e){return e.json()})).then((function(e){return t.setState({pelicula:e})})).catch((function(e){return console.log(e)})),fetch("https://api.themoviedb.org/3/movie/"+e+"/videos?api_key="+v+"&language=en-US").then((function(e){return e.json()})).then((function(e){return t.setState({trailerKey:e.results[0].key})})).catch((function(e){return console.log(e)}))}},{key:"componentWillMount",value:function(){this.getData(120)}},{key:"render",value:function(){return d.a.createElement("main",null,d.a.createElement(y,{pelicula:this.state.pelicula,trailerKey:this.state.trailerKey}),d.a.createElement(E,{onClick:this.onClick.bind(this)}))}}]),t}(d.a.Component),N=function(e){return d.a.createElement("nav",{className:"navbar"},d.a.createElement("ul",null))},j=function(e){return d.a.createElement("header",null,d.a.createElement(N,null))};f.a.render(d.a.createElement((function(e){return d.a.createElement("div",{className:"root_2"},d.a.createElement(j,null),d.a.createElement(k,null))}),null),document.getElementById("root"))},17:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.b1729329.chunk.js.map